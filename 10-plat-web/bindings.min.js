// SPDX-License-Identifier: Apache-2.0
// Copyright 2023 The Prime Citizens

var __awaiter=this&&this.__awaiter||function(R,x,h,U){function E(d){return d instanceof h?d:new h(function(p){p(d)})}return new(h||(h=Promise))(function(d,p){function D(_){try{m(U.next(_))}catch(B){p(B)}}function N(_){try{m(U.throw(_))}catch(B){p(B)}}function m(_){_.done?d(_.value):E(_.value).then(D,N)}m((U=U.apply(R,x||[])).next())})},__generator=this&&this.__generator||function(R,x){var h={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},U,E,d,p;return p={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function D(m){return function(_){return N([m,_])}}function N(m){if(U)throw new TypeError("Generator is already executing.");for(;p&&(p=0,m[0]&&(h=0)),h;)try{if(U=1,E&&(d=m[0]&2?E.return:m[0]?E.throw||((d=E.return)&&d.call(E),0):E.next)&&!(d=d.call(E,m[1])).done)return d;switch(E=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return h.label++,{value:m[1],done:!1};case 5:h.label++,E=m[1],m=[0];continue;case 7:m=h.ops.pop(),h.trys.pop();continue;default:if(d=h.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){h=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){h.label=m[1];break}if(m[0]===6&&h.label<d[1]){h.label=d[1],d=m;break}if(d&&h.label<d[2]){h.label=d[2],h.ops.push(m);break}d[2]&&h.ops.pop(),h.trys.pop();continue}m=x.call(R,h)}catch(_){m=[6,_],E=0}finally{U=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};(function(R){if(typeof module=="object"&&typeof module.exports=="object"){var x=R(require,exports);x!==void 0&&(module.exports=x)}else typeof define=="function"&&define.amd?define("bindings",["require","exports"],R):R(void 0,globalThis.bindings={})})(function(R,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Application=x.Heap=void 0;var h=0,U=1,E=2,d=3,p=4,D=5,N=6,m=7,_=8,B=_,I=128,F=I+(B+1),P=function(){function H(){this.UNDEFINED=h,this.NULL=U,this.ZERO=E,this.FALSE=d,this.TRUE=p,this.NaN=D,this.INF=N,this.NEG_INF=m,this.GLOBAL=_,this.H=new Array(F),this.H[h]=void 0,this.H[U]=null,this.H[E]=0,this.H[d]=!1,this.H[p]=!0,this.H[D]=NaN,this.H[N]=1/0,this.H[m]=-1/0,this.H[_]=globalThis;for(var s=0;s<I;s++)this.H[B+1+s]=s+1;this.next=this.H.length,this.ttl=new Map}return H.prototype.get=function(s){if(!this.ttl.has(s))return this.H[s];var i=this.ttl.get(s)-1;return i<=0?this.take(s):(this.ttl.set(s,i),this.H[s])},H.prototype.freeAfterNGets=function(s,i){if(!(s<F)){if(this.ttl.has(s))throw new Error("invalid heap operation");if(i<=0){this.free(s);return}this.ttl.set(s,i)}},H.prototype.free=function(s){s<F||(this.ttl.delete(s),this.H[s]=this.next,this.next=s)},H.prototype.take=function(s){var i=this.H[s];return this.free(s),i},H.prototype.replace=function(s,i){return s<F?d:(this.H[s]=i,p)},H.prototype.push=function(s){if(s===void 0)return h;if(s===null)return U;switch(typeof s){case"boolean":return s?p:d;case"number":if(Number.isInteger(s)&&s>=0&&s<I)return s+B+1;if(Number.isNaN(s))return D;if(!Number.isFinite(s))return s>0?N:m;break}this.next===this.H.length&&this.H.push(this.H.length+1);var i=this.next;if(this.next=this.H[i],typeof this.next!="number")throw new Error("corrupt heap");return this.H[i]=s,i},H.prototype.reset=function(){this.H.splice(F),this.ttl.clear(),this.next=this.H.length},H}();x.Heap=P;var k=function(){function H(s){var i=this;if(this._runid=0,this._exited=!0,this.buf_utf8size=new Uint8Array(32),this.load={Raw:function(e,r){return new Uint8Array(i.view.buffer).subarray(e,e+r)},Bool:function(e){return i.view.getUint8(e>>>0)!==0},Uint8:function(e){return i.view.getUint8(e>>>0)},Uint16:function(e){return i.view.getUint16(e>>>0,!0)},Uint32:function(e){return i.view.getUint32(e>>>0,!0)},Uint64:function(e){return Number(i.view.getBigUint64(e>>>0,!0))},BigUint64:function(e){return i.view.getBigUint64(e>>>0,!0)},Int8:function(e){return i.view.getInt8(e>>>0)},Int16:function(e){return i.view.getInt16(e>>>0,!0)},Int32:function(e){return i.view.getInt32(e>>>0,!0)},Int64:function(e){return Number(i.view.getBigInt64(e>>>0,!0))},BigInt64:function(e){return i.view.getBigInt64(e>>>0,!0)},Float32:function(e){return i.view.getFloat32(e>>>0,!0)},Float64:function(e){return i.view.getFloat64(e>>>0,!0)},String:function(e,r){return e>>>=0,i.UTF8dec.decode(i.view.buffer.slice(e,e+r))},Ref:function(e,r,o){var t=i.view.getUint32(e>>>0,!0);return t===h?r:o?i.H.take(t):i.H.get(t)},Enum:function(e,r){var o=i.view.getUint32(e>>>0,!0);if(!(o<=0||o>r.length))return r[o-1]},Refs:function(e,r,o){if(r===0)return[];e>>>=0;var t=new Array(r);if(o)for(var n=0;n<r;n++)t[n]=i.H.take(i.view.getUint32(e+n*4,!0));else for(var n=0;n<r;n++)t[n]=i.H.get(i.view.getUint32(e+n*4,!0));return t}},this.store={Raw:function(e,r){e>>>=0,new Uint8Array(i.view.buffer).subarray(e,e+r.length).set(r)},String:function(e,r,o){var t,n,a,u,c,l;e>>>=0;var f=0;do{var g=i.UTF8enc.encodeInto(o,new Uint8Array(i.view.buffer).subarray(e,e+r));if(((t=g.read)!==null&&t!==void 0?t:0)===0||((n=g.written)!==null&&n!==void 0?n:0)===0)break;o=o.substring((a=g.read)!==null&&a!==void 0?a:0),f+=(u=g.written)!==null&&u!==void 0?u:0,e+=(c=g.written)!==null&&c!==void 0?c:0,r-=(l=g.written)!==null&&l!==void 0?l:0}while(o.length>0&&r>0);return{n:f,remainder:o}},Bool:function(e,r){i.view.setUint8(e>>>0,r?1:0)},Uint8:function(e,r){i.view.setUint8(e>>>0,r)},Uint16:function(e,r){i.view.setUint16(e>>>0,r,!0)},Uint32:function(e,r){i.view.setUint32(e>>>0,r,!0)},Uint64:function(e,r){typeof r!="bigint"&&(r=BigInt(r)),i.view.setBigUint64(e>>>0,r,!0)},Int8:function(e,r){i.view.setInt8(e>>>0,r)},Int16:function(e,r){i.view.setInt16(e>>>0,r,!0)},Int32:function(e,r){i.view.setInt32(e>>>0,r,!0)},Int64:function(e,r){typeof r!="bigint"&&(r=BigInt(r)),i.view.setBigInt64(e>>>0,r,!0)},Float32:function(e,r){i.view.setFloat32(e>>>0,r,!0)},Float64:function(e,r){i.view.setFloat64(e>>>0,r,!0)},Ref:function(e,r){i.view.setUint32(e>>>0,i.H.push(r),!0)},Enum:function(e,r){r<0?i.view.setUint32(e>>>0,0,!0):i.view.setUint32(e>>>0,r+1,!0)}},this.importObject={"ffi/js.core":{exit:function(e){i._exitcode=e,i._exited=!0}}},s!=null&&s.utf8enc)this.UTF8enc=s.utf8enc;else{if(!globalThis.TextEncoder)throw new Error("TextEncoder not available, please construct with custom UTF8Encoder");this.UTF8enc=new globalThis.TextEncoder}if(s!=null&&s.utf8dec)this.UTF8dec=s.utf8dec;else{if(!globalThis.TextDecoder)throw new Error("TextDecoder not available, please construct with custom UTF8Decoder");this.UTF8dec=new globalThis.TextDecoder("utf-8")}this.H=new P;var b=function(e,r){if(i.importObject[e])throw new Error("duplicate module name ".concat(e));i.importObject[e]=r(i)};b("core/assert",function(e){var r=[];return{append:function(o,t){r.push(e.load.String(o,t))},throw:function(){var o=r.join("");throw r.splice(0),new Error(o)}}}),b("ffi/js",function(e){return{once:function(r){e.H.freeAfterNGets(r,1)},free:function(r){e.H.take(r)},replace:function(r,o){return e.H.replace(r,e.H.take(o))},getnum:function(r,o){var t=e.H.get(r);return typeof t!="number"?e.H.FALSE:(e.store.Float64(o,t),e.H.TRUE)},encodeUTF8:function(r,o,t){return e.store.String(o,t,e.H.get(r)).n},decodeUTF8:function(r,o){return e.H.push(e.load.String(r,o))},callVoid:function(r,o,t,n,a){Reflect.apply(e.H.get(r),e.H.get(o),e.load.Refs(n,a,t===e.H.TRUE))},prop:function(r,o,t){var n=e.H.get(r);return e.H.push(Reflect.get(n,e.load.String(o,t),n))}}}),b("ffi/js/array",function(e){var r=function(t,n,a,u,c,l){var f=e.H.get(a);if(f.length<=u)return 0;var g=f.length-u;g<l&&(l=g);for(var v=u;v<l;v++)f[v]=t(c+v*n);return l},o=function(t,n,a,u,c,l){var f=e.H.get(a);if(f.length<=u)return 0;var g=f.length-u;g<l&&(l=g);for(var v=u;v<l;v++)t(c+v*n,f[v]);return l};return{new:function(t,n,a,u){switch(n){case 0:return e.H.push(new Array(t));case 1:return a===e.H.TRUE?e.H.push(new Int8Array(t)):e.H.push(new Uint8Array(t));case 2:return a===e.H.TRUE?e.H.push(new Int16Array(t)):e.H.push(new Uint16Array(t));case 4:return u===e.H.TRUE?e.H.push(new Float32Array(t)):a===e.H.TRUE?e.H.push(new Int32Array(t)):e.H.push(new Uint32Array(t));case 8:return u===e.H.TRUE?e.H.push(new Float64Array(t)):a===e.H.TRUE?e.H.push(new BigInt64Array(t)):e.H.push(new BigUint64Array(t));default:throw new Error("unsupported element size=".concat(n))}},append:function(t,n,a,u,c,l,f,g){switch(a){case 0:{for(var v=e.load.Refs(f,g,n===e.H.TRUE),w=e.H.get(t),T=0,S=l;S<w.length&&T<v.length;S++)w[S]=v[T],T++;return e.H.replace(t,w.concat(v.slice(T))),g}case 1:{var w=e.H.get(t);if(w.length<=l)return 0;var G=w.length-l;return G<g&&(g=G),w.set(e.load.Raw(f,g),l),g}case 2:return u===e.H.TRUE?r(e.load.Int16,2,t,l,f,g):r(e.load.Uint16,2,t,l,f,g);case 4:return c===e.H.TRUE?r(e.load.Float32,4,t,l,f,g):u===e.H.TRUE?r(e.load.Int32,4,t,l,f,g):r(e.load.Uint32,4,t,l,f,g);case 8:return c===e.H.TRUE?r(e.load.Float64,8,t,l,f,g):u===e.H.TRUE?r(e.load.Int64,8,t,l,f,g):r(e.load.Uint64,8,t,l,f,g);default:throw new Error("unsupported element size=".concat(a))}},copy:function(t,n,a,u,c,l,f){switch(n){case 1:var g=e.H.get(t);if(g.length<=c)return 0;var v=g.length-c;return v<f&&(f=v),e.load.Raw(l,f).set(g,c),f;case 2:return a===e.H.TRUE?o(e.store.Int16,2,t,c,l,f):o(e.store.Uint16,2,t,c,l,f);case 4:return u===e.H.TRUE?o(e.store.Float32,4,t,c,l,f):a===e.H.TRUE?o(e.store.Int32,4,t,c,l,f):o(e.store.Uint32,4,t,c,l,f);case 8:return u===e.H.TRUE?o(e.store.Float64,8,t,c,l,f):a===e.H.TRUE?o(e.store.Int64,8,t,c,l,f):o(e.store.Uint64,8,t,c,l,f);default:throw new Error("unsupported element size=".concat(n))}},set:function(t,n){e.H.get(t).set(e.H.get(n))},buffer:function(t,n){return e.H.push((t===e.H.TRUE?e.H.take(n):e.H.get(n)).buffer)},fromBuffer:function(t,n,a,u,c){var l=t===e.H.TRUE?e.H.take(n):e.H.get(n);switch(a){case 1:return u===e.H.TRUE?e.H.push(new Int8Array(l)):e.H.push(new Uint8Array(l));case 2:return u===e.H.TRUE?e.H.push(new Int16Array(l)):e.H.push(new Uint16Array(l));case 4:return c===e.H.TRUE?e.H.push(new Float32Array(l)):u===e.H.TRUE?e.H.push(new Int32Array(l)):e.H.push(new Uint32Array(l));case 8:return c===e.H.TRUE?e.H.push(new Float64Array(l)):u===e.H.TRUE?e.H.push(new BigInt64Array(l)):e.H.push(new BigUint64Array(l));default:throw new Error("unsupported element size=".concat(a))}},byteOffset:function(t){return e.H.get(t).byteOffset},byteLength:function(t){return e.H.get(t).byteLength}}}),b("ffi/js/async",function(e){var r="_ext_";return{shouldwait:function(o,t,n,a){var u=o===e.H.TRUE?e.H.take(t):e.H.get(t);if(!u)return e.H.FALSE;var c=u[r];if(typeof c!="undefined"){if(c.ok)return e.store.Bool(n,!0),e.store.Ref(a,c.data),e.H.FALSE;if(c.err)return e.store.Ref(a,c.data),e.H.FALSE}if(c=c||{},c.synchronous=!0,u.then(function(l){return c.data=l,c.ok=!0,c.synchronous?c.synchronous=!1:e.call(0,0),l},function(l){return c.data=l,c.err=!0,c.synchronous?c.synchronous=!1:e.call(0,0),l}),c.synchronous)return e.store.Ref(a,c),c.synchronous=!1,e.H.TRUE;if(c.ok)return e.store.Bool(n,!0),e.store.Ref(a,c.data),e.H.FALSE;if(c.err)return e.store.Ref(a,c.data),e.H.FALSE;throw new Error("unreachable")},takewaited:function(o,t){var n=e.H.take(o);if(!n.ok&&!n.err)throw new Error("unexpected state: promise unfinished");return e.store.Ref(t,n.data),n.ok?e.H.TRUE:e.H.FALSE}}}),b("ffi/js/callback",function(e){var r="_CBRET_",o="_CBPROM_";return{func:function(t,n,a){t>>>=0,n>>>=0,a>>>=0;var u=e.runid;return e.H.push(function(){if(e.exited||u!=e.runid)throw new Error("unexpected function call after program exit: pc=".concat(a));if(arguments.length>15)throw new Error("too many args to callback function");var c=new Array(arguments.length+1);c[0]=e.H.push(this);for(var l=0;l<arguments.length;l++)c[l+1]=e.H.push(arguments[l]);var f={dispFnPC:t,dispRecv:n,targetPC:a,args:c,retRef:e.H.push(r),resolveFn:e.H.push(o)};e.H.replace(f.retRef,void 0);var g=!1,v=new Promise(function(w){e.H.replace(f.resolveFn,function(){g=!0,e.H.free(f.resolveFn),w(!0)})}).then(function(){return c.forEach(function(w){return e.H.free(w)}),e.exited&&e.resolveExitPromise(),e.H.take(f.retRef)});return e.call(e.H.push(f),0),g?e.H.get(f.retRef):v})},ctx:function(t,n){var a=e.H.take(t);if(n>>>=0,e.store.Uint32(n+0,a.dispFnPC),e.store.Uint32(n+4,a.dispRecv),e.store.Uint32(n+8,a.targetPC),e.store.Uint32(n+12,a.retRef),e.store.Uint32(n+16,a.resolveFn),!a.args||a.args.length===0){e.store.Uint32(n+20,0);return}e.store.Uint32(n+20,a.args.length),n+=24;for(var u=0;u<a.args.length;u++)e.store.Uint32(n+u*4,a.args[u])}}}),b("plat/js/web",function(e){return{call_EventTarget_AddEventListener:function(r,o,t,n,a){var u=e.H.get(r);if(!u.addEventListener)return e.H.UNDEFINED;e.store.Bool(o,!0);var c=u.addEventListener(e.H.get(t),e.H.get(n),e.H.get(a));return e.H.UNDEFINED},call_EventTarget_AddEventListener1:function(r,o,t,n){var a=e.H.get(r);if(!a.addEventListener)return e.H.UNDEFINED;e.store.Bool(o,!0);var u=a.addEventListener(e.H.get(t),e.H.get(n));return e.H.UNDEFINED},call_EventTarget_RemoveEventListener1:function(r,o,t,n){var a=e.H.get(r);if(!a.removeEventListener)return e.H.UNDEFINED;e.store.Bool(o,!0);var u=a.removeEventListener(e.H.get(t),e.H.get(n));return e.H.UNDEFINED},get_Event_Target:function(r,o){var t=e.H.get(r).target;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},get_Element_Id:function(r,o){var t=e.H.get(r).id;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},set_Element_InnerHTML:function(r,o){var t=e.H.get(r);return Reflect.set(t,"innerHTML",e.H.get(o),t)?e.H.TRUE:e.H.FALSE},call_Blob_ArrayBuffer:function(r,o){var t=e.H.get(r);if(!t.arrayBuffer)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.arrayBuffer();return e.H.push(n)},set_HTMLElement_InnerText:function(r,o){var t=e.H.get(r);return Reflect.set(t,"innerText",e.H.get(o),t)?e.H.TRUE:e.H.FALSE},call_Document_CreateElement1:function(r,o,t){var n=e.H.get(r);if(!n.createElement)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.createElement(e.H.get(t));return e.H.push(a)},call_Document_GetElementById:function(r,o,t){var n=e.H.get(r);if(!n.getElementById)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.getElementById(e.H.get(t));return e.H.push(a)},get_Document_Body:function(r,o){var t=e.H.get(r).body;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},get_Document_Head:function(r,o){var t=e.H.get(r).head;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},call_Node_AppendChild:function(r,o,t){var n=e.H.get(r);if(!n.appendChild)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.appendChild(e.H.get(t));return e.H.push(a)},call_Response_Blob:function(r,o){var t=e.H.get(r);if(!t.blob)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.blob();return e.H.push(n)},call_GPUBuffer_GetMappedRange2:function(r,o){var t=e.H.get(r);if(!t.getMappedRange)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.getMappedRange();return e.H.push(n)},call_GPUBuffer_Unmap:function(r,o){var t=e.H.get(r);if(!t.unmap)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.unmap();return e.H.UNDEFINED},call_GPUTexture_CreateView1:function(r,o){var t=e.H.get(r);if(!t.createView)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.createView();return e.H.push(n)},load_GPUExtent3DDict:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.width=e.load.Uint32(r+0),e.load.Bool(r+12)?n.height=e.load.Uint32(r+4):delete n.height,e.load.Bool(r+13)?n.depthOrArrayLayers=e.load.Uint32(r+8):delete n.depthOrArrayLayers,o===e.H.TRUE?e.H.push(n):t},load_GPUBufferBinding:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.buffer=e.load.Ref(r+0,void 0),e.load.Bool(r+24)?n.offset=e.load.Uint64(r+8):delete n.offset,e.load.Bool(r+25)?n.size=e.load.Uint64(r+16):delete n.size,o===e.H.TRUE?e.H.push(n):t},load_GPUBindGroupEntry:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.binding=e.load.Uint32(r+0),n.resource=e.load.Ref(r+4,void 0),o===e.H.TRUE?e.H.push(n):t},call_GPURenderPipeline_GetBindGroupLayout:function(r,o,t){var n=e.H.get(r);if(!n.getBindGroupLayout)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.getBindGroupLayout(t);return e.H.push(a)},load_GPUVertexAttribute:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.format=e.load.Enum(r+0,["uint8x2","uint8x4","sint8x2","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","uint16x4","sint16x2","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4"]),n.offset=e.load.Uint64(r+8),n.shaderLocation=e.load.Uint32(r+16),o===e.H.TRUE?e.H.push(n):t},load_GPUVertexBufferLayout:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.arrayStride=e.load.Uint64(r+0),n.stepMode=e.load.Enum(r+8,["vertex","instance"]),n.attributes=e.load.Ref(r+12,void 0),o===e.H.TRUE?e.H.push(n):t},load_GPUColorTargetState:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.format=e.load.Enum(r+0,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),e.load.Bool(r+4+29)?(n.blend={},e.load.Bool(r+4+0+12)?(n.blend.color={},n.blend.color.operation=e.load.Enum(r+4+0+0,["add","subtract","reverse-subtract","min","max"]),n.blend.color.srcFactor=e.load.Enum(r+4+0+4,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"]),n.blend.color.dstFactor=e.load.Enum(r+4+0+8,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"])):delete n.blend.color,e.load.Bool(r+4+16+12)?(n.blend.alpha={},n.blend.alpha.operation=e.load.Enum(r+4+16+0,["add","subtract","reverse-subtract","min","max"]),n.blend.alpha.srcFactor=e.load.Enum(r+4+16+4,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"]),n.blend.alpha.dstFactor=e.load.Enum(r+4+16+8,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"])):delete n.blend.alpha):delete n.blend,e.load.Bool(r+40)?n.writeMask=e.load.Uint32(r+36):delete n.writeMask,o===e.H.TRUE?e.H.push(n):t},load_GPUColorDict:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.r=e.load.Float64(r+0),n.g=e.load.Float64(r+8),n.b=e.load.Float64(r+16),n.a=e.load.Float64(r+24),o===e.H.TRUE?e.H.push(n):t},call_GPURenderPassEncoder_End:function(r,o){var t=e.H.get(r);if(!t.end)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.end();return e.H.UNDEFINED},call_GPURenderPassEncoder_SetPipeline:function(r,o,t){var n=e.H.get(r);if(!n.setPipeline)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.setPipeline(e.H.get(t));return e.H.UNDEFINED},call_GPURenderPassEncoder_SetVertexBuffer2:function(r,o,t,n){var a=e.H.get(r);if(!a.setVertexBuffer)return e.H.UNDEFINED;e.store.Bool(o,!0);var u=a.setVertexBuffer(t,e.H.get(n));return e.H.UNDEFINED},call_GPURenderPassEncoder_Draw3:function(r,o,t){var n=e.H.get(r);if(!n.draw)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.draw(t);return e.H.UNDEFINED},call_GPURenderPassEncoder_SetBindGroup1:function(r,o,t,n){var a=e.H.get(r);if(!a.setBindGroup)return e.H.UNDEFINED;e.store.Bool(o,!0);var u=a.setBindGroup(t,e.H.get(n));return e.H.UNDEFINED},load_GPURenderPassColorAttachment:function(r,o,t){var n=o===e.H.TRUE?{}:e.H.get(t);return n.view=e.load.Ref(r+0,void 0),n.resolveTarget=e.load.Ref(r+4,void 0),n.clearValue=e.load.Ref(r+8,void 0),n.loadOp=e.load.Enum(r+12,["load","clear"]),n.storeOp=e.load.Enum(r+16,["store","discard"]),o===e.H.TRUE?e.H.push(n):t},call_GPUCommandEncoder_BeginRenderPass:function(r,o,t){var n=e.H.get(r);if(!n.beginRenderPass)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};a.colorAttachments=e.load.Ref(t+0,void 0),e.load.Bool(t+4+37)&&(a.depthStencilAttachment={},a.depthStencilAttachment.view=e.load.Ref(t+4+0,void 0),e.load.Bool(t+4+33)&&(a.depthStencilAttachment.depthClearValue=e.load.Float32(t+4+4)),a.depthStencilAttachment.depthLoadOp=e.load.Enum(t+4+8,["load","clear"]),a.depthStencilAttachment.depthStoreOp=e.load.Enum(t+4+12,["store","discard"]),e.load.Bool(t+4+34)&&(a.depthStencilAttachment.depthReadOnly=e.load.Bool(t+4+16)),e.load.Bool(t+4+35)&&(a.depthStencilAttachment.stencilClearValue=e.load.Uint32(t+4+20)),a.depthStencilAttachment.stencilLoadOp=e.load.Enum(t+4+24,["load","clear"]),a.depthStencilAttachment.stencilStoreOp=e.load.Enum(t+4+28,["store","discard"]),e.load.Bool(t+4+36)&&(a.depthStencilAttachment.stencilReadOnly=e.load.Bool(t+4+32))),a.occlusionQuerySet=e.load.Ref(t+44,void 0),e.load.Bool(t+48+14)&&(a.timestampWrites={},a.timestampWrites.querySet=e.load.Ref(t+48+0,void 0),e.load.Bool(t+48+12)&&(a.timestampWrites.beginningOfPassWriteIndex=e.load.Uint32(t+48+4)),e.load.Bool(t+48+13)&&(a.timestampWrites.endOfPassWriteIndex=e.load.Uint32(t+48+8))),e.load.Bool(t+76)&&(a.maxDrawCount=e.load.Uint64(t+64)),a.label=e.load.Ref(t+72,"");var u=n.beginRenderPass(a);return e.H.push(u)},call_GPUCommandEncoder_Finish1:function(r,o){var t=e.H.get(r);if(!t.finish)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.finish();return e.H.push(n)},call_GPUQueue_Submit:function(r,o,t){var n=e.H.get(r);if(!n.submit)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.submit(e.H.get(t));return e.H.UNDEFINED},call_GPUQueue_WriteBuffer:function(r,o,t,n,a,u,c){var l=e.H.get(r);if(!l.writeBuffer)return e.H.UNDEFINED;e.store.Bool(o,!0);var f=l.writeBuffer(e.H.get(t),n,e.H.get(a),u,c);return e.H.UNDEFINED},call_GPUDevice_CreateBuffer:function(r,o,t){var n=e.H.get(r);if(!n.createBuffer)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};a.size=e.load.Uint64(t+0),a.usage=e.load.Uint32(t+8),e.load.Bool(t+20)&&(a.mappedAtCreation=e.load.Bool(t+12)),a.label=e.load.Ref(t+16,"");var u=n.createBuffer(a);return e.H.push(u)},call_GPUDevice_CreateTexture:function(r,o,t){var n=e.H.get(r);if(!n.createTexture)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};a.size=e.load.Ref(t+0,void 0),e.load.Bool(t+32)&&(a.mipLevelCount=e.load.Uint32(t+4)),e.load.Bool(t+33)&&(a.sampleCount=e.load.Uint32(t+8)),a.dimension=e.load.Enum(t+12,["1d","2d","3d"]),a.format=e.load.Enum(t+16,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),a.usage=e.load.Uint32(t+20),a.viewFormats=e.load.Ref(t+24,[]),a.label=e.load.Ref(t+28,"");var u=n.createTexture(a);return e.H.push(u)},call_GPUDevice_CreateBindGroup:function(r,o,t){var n=e.H.get(r);if(!n.createBindGroup)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};a.layout=e.load.Ref(t+0,void 0),a.entries=e.load.Ref(t+4,void 0),a.label=e.load.Ref(t+8,"");var u=n.createBindGroup(a);return e.H.push(u)},call_GPUDevice_CreateShaderModule:function(r,o,t){var n=e.H.get(r);if(!n.createShaderModule)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};a.code=e.load.Ref(t+0,void 0),a.sourceMap=e.load.Ref(t+4,void 0),a.hints=e.load.Ref(t+8,void 0),a.label=e.load.Ref(t+12,"");var u=n.createShaderModule(a);return e.H.push(u)},call_GPUDevice_CreateRenderPipeline:function(r,o,t){var n=e.H.get(r);if(!n.createRenderPipeline)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};e.load.Bool(t+0+16)&&(a.vertex={},a.vertex.buffers=e.load.Ref(t+0+0,[]),a.vertex.module=e.load.Ref(t+0+4,void 0),a.vertex.entryPoint=e.load.Ref(t+0+8,void 0),a.vertex.constants=e.load.Ref(t+0+12,void 0)),e.load.Bool(t+20+18)&&(a.primitive={},a.primitive.topology=e.load.Enum(t+20+0,["point-list","line-list","line-strip","triangle-list","triangle-strip"]),a.primitive.stripIndexFormat=e.load.Enum(t+20+4,["uint16","uint32"]),a.primitive.frontFace=e.load.Enum(t+20+8,["ccw","cw"]),a.primitive.cullMode=e.load.Enum(t+20+12,["none","front","back"]),e.load.Bool(t+20+17)&&(a.primitive.unclippedDepth=e.load.Bool(t+20+16))),e.load.Bool(t+40+77)&&(a.depthStencil={},a.depthStencil.format=e.load.Enum(t+40+0,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),a.depthStencil.depthWriteEnabled=e.load.Bool(t+40+4),a.depthStencil.depthCompare=e.load.Enum(t+40+8,["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]),e.load.Bool(t+40+12+16)&&(a.depthStencil.stencilFront={},a.depthStencil.stencilFront.compare=e.load.Enum(t+40+12+0,["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]),a.depthStencil.stencilFront.failOp=e.load.Enum(t+40+12+4,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),a.depthStencil.stencilFront.depthFailOp=e.load.Enum(t+40+12+8,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),a.depthStencil.stencilFront.passOp=e.load.Enum(t+40+12+12,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"])),e.load.Bool(t+40+32+16)&&(a.depthStencil.stencilBack={},a.depthStencil.stencilBack.compare=e.load.Enum(t+40+32+0,["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]),a.depthStencil.stencilBack.failOp=e.load.Enum(t+40+32+4,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),a.depthStencil.stencilBack.depthFailOp=e.load.Enum(t+40+32+8,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),a.depthStencil.stencilBack.passOp=e.load.Enum(t+40+32+12,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"])),e.load.Bool(t+40+72)&&(a.depthStencil.stencilReadMask=e.load.Uint32(t+40+52)),e.load.Bool(t+40+73)&&(a.depthStencil.stencilWriteMask=e.load.Uint32(t+40+56)),e.load.Bool(t+40+74)&&(a.depthStencil.depthBias=e.load.Int32(t+40+60)),e.load.Bool(t+40+75)&&(a.depthStencil.depthBiasSlopeScale=e.load.Float32(t+40+64)),e.load.Bool(t+40+76)&&(a.depthStencil.depthBiasClamp=e.load.Float32(t+40+68))),e.load.Bool(t+120+12)&&(a.multisample={},e.load.Bool(t+120+9)&&(a.multisample.count=e.load.Uint32(t+120+0)),e.load.Bool(t+120+10)&&(a.multisample.mask=e.load.Uint32(t+120+4)),e.load.Bool(t+120+11)&&(a.multisample.alphaToCoverageEnabled=e.load.Bool(t+120+8))),e.load.Bool(t+136+16)&&(a.fragment={},a.fragment.targets=e.load.Ref(t+136+0,void 0),a.fragment.module=e.load.Ref(t+136+4,void 0),a.fragment.entryPoint=e.load.Ref(t+136+8,void 0),a.fragment.constants=e.load.Ref(t+136+12,void 0)),a.layout=e.load.Ref(t+156,void 0),a.label=e.load.Ref(t+160,"");var u=n.createRenderPipeline(a);return e.H.push(u)},call_GPUDevice_CreateCommandEncoder1:function(r,o){var t=e.H.get(r);if(!t.createCommandEncoder)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.createCommandEncoder();return e.H.push(n)},get_GPUDevice_Queue:function(r,o){var t=e.H.get(r).queue;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},call_GPUCanvasContext_Configure:function(r,o,t){var n=e.H.get(r);if(!n.configure)return e.H.UNDEFINED;e.store.Bool(o,!0);var a={};a.device=e.load.Ref(t+0,void 0),a.format=e.load.Enum(t+4,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),e.load.Bool(t+24)&&(a.usage=e.load.Uint32(t+8)),a.viewFormats=e.load.Ref(t+12,[]),a.colorSpace=e.load.Enum(t+16,["srgb","display-p3"]),a.alphaMode=e.load.Enum(t+20,["opaque","premultiplied"]);var u=n.configure(a);return e.H.UNDEFINED},call_GPUCanvasContext_GetCurrentTexture:function(r,o){var t=e.H.get(r);if(!t.getCurrentTexture)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.getCurrentTexture();return e.H.push(n)},new_HTMLCanvasElement_HTMLCanvasElement:function(){var r;return e.H.push((r=globalThis.document)===null||r===void 0?void 0:r.createElement("canvas"))},call_HTMLCanvasElement_GetContext1:function(r,o,t){var n=e.H.get(r);if(!n.getContext)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.getContext(e.H.get(t));return e.H.push(a)},set_HTMLCanvasElement_Width:function(r,o){var t=e.H.get(r);return Reflect.set(t,"width",o,t)?e.H.TRUE:e.H.FALSE},set_HTMLCanvasElement_Height:function(r,o){var t=e.H.get(r);return Reflect.set(t,"height",o,t)?e.H.TRUE:e.H.FALSE},call_GPUAdapter_RequestDevice1:function(r,o){var t=e.H.get(r);if(!t.requestDevice)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.requestDevice();return e.H.push(n)},call_GPU_RequestAdapter1:function(r,o){var t=e.H.get(r);if(!t.requestAdapter)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.requestAdapter();return e.H.push(n)},call_GPU_GetPreferredCanvasFormat:function(r,o){var t=e.H.get(r);if(!t.getPreferredCanvasFormat)return e.H.UNDEFINED;e.store.Bool(o,!0);var n=t.getPreferredCanvasFormat(),a=["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"].indexOf(n);return a>=0?a+1:0},get_Navigator_Gpu:function(r,o){var t=e.H.get(r).gpu;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},call_Window_Fetch:function(r,o,t,n){var a=e.H.get(r);if(!a.fetch)return e.H.UNDEFINED;e.store.Bool(o,!0);var u={};u.method=e.load.Ref(n+0,void 0),u.headers=e.load.Ref(n+4,void 0),u.body=e.load.Ref(n+8,void 0),u.referrer=e.load.Ref(n+12,void 0),u.referrerPolicy=e.load.Enum(n+16,["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),u.mode=e.load.Enum(n+20,["navigate","same-origin","no-cors","cors"]),u.credentials=e.load.Enum(n+24,["omit","same-origin","include"]),u.cache=e.load.Enum(n+28,["default","no-store","reload","no-cache","force-cache","only-if-cached"]),u.redirect=e.load.Enum(n+32,["follow","error","manual"]),u.integrity=e.load.Ref(n+36,void 0),e.load.Bool(n+87)&&(u.keepalive=e.load.Bool(n+40)),u.signal=e.load.Ref(n+44,void 0),u.duplex=e.load.Enum(n+48,["half"]),u.priority=e.load.Enum(n+52,["high","low","auto"]),u.window=e.load.Ref(n+56,void 0),e.load.Bool(n+60+16)&&(u.privateToken={},u.privateToken.version=e.load.Enum(n+60+0,["1"]),u.privateToken.operation=e.load.Enum(n+60+4,["token-request","send-redemption-record","token-redemption"]),u.privateToken.refreshPolicy=e.load.Enum(n+60+8,["none","refresh"]),u.privateToken.issuers=e.load.Ref(n+60+12,void 0)),u.targetAddressSpace=e.load.Enum(n+80,["private","local"]),e.load.Bool(n+84+2)&&(u.attributionReporting={},u.attributionReporting.eventSourceEligible=e.load.Bool(n+84+0),u.attributionReporting.triggerEligible=e.load.Bool(n+84+1));var c=a.fetch(e.H.get(t),u);return e.H.push(c)},call_Window_RequestAnimationFrame:function(r,o,t){var n=e.H.get(r);if(!n.requestAnimationFrame)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.requestAnimationFrame(e.H.get(t));return a},call_Window_CancelAnimationFrame:function(r,o,t){var n=e.H.get(r);if(!n.cancelAnimationFrame)return e.H.UNDEFINED;e.store.Bool(o,!0);var a=n.cancelAnimationFrame(t);return e.H.UNDEFINED},get_Window_Document:function(r,o){var t=e.H.get(r).document;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},get_Window_Navigator:function(r,o){var t=e.H.get(r).navigator;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),e.H.push(t))},get_Window_DevicePixelRatio:function(r,o){var t=e.H.get(r).devicePixelRatio;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),t)},new_HTMLSpanElement_HTMLSpanElement:function(){var r;return e.H.push((r=globalThis.document)===null||r===void 0?void 0:r.createElement("span"))},get_MouseEvent_ClientX:function(r,o){var t=e.H.get(r).clientX;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),t)},get_MouseEvent_ClientY:function(r,o){var t=e.H.get(r).clientY;return t===void 0?e.H.UNDEFINED:(e.store.Bool(o,!0),t)},call_Console_Log:function(r,o,t){var n,a;if(!(!((a=globalThis.console)===null||a===void 0)&&a.log))return e.H.UNDEFINED;e.store.Bool(r,!0);var u=(n=globalThis.console).log.apply(n,e.load.Refs(o,t));return e.H.UNDEFINED}}}),b("stdprint",function(e){var r=new Array,o;return{print:function(t,n){var a=e.load.String(t,n),u=a.lastIndexOf("\n");if(u>=0){if(o&&(clearTimeout(o),o=void 0),console.log(r.splice(0,r.length).join("")+a.substring(0,u)),u===a.length-1)return;a=a.substring(u+1)}r.push(a),!o&&(o=setTimeout(function(){o=void 0,console.log(r.splice(0,r.length).join(""))},100))}}}),b("core/alloc/sbrkalloc",function(e){return{resetMemoryDataView:function(){e.resetMemoryDataView()}}}),b("time/sysclock",function(e){return{timeOriginMS:function(r){e.store.Int64(r,Date.now()-performance.now())},millitime:function(r){e.store.Int64(r,performance.now())}}}),b("ui/html/builder",function(e){var r=new Map;return{reset:function(o){if(r.has(o)){r.get(o).splice(0);return}r.set(o,[])},integer:function(o,t,n,a){r.get(o).push((t===e.H.TRUE?e.load.BigInt64(n):e.load.BigUint64(n)).toString(a))},buf:function(o,t,n){r.get(o).push(e.load.String(t,n))},flush:function(o,t){var n=r.get(o).splice(0).join("");if(t===e.H.TRUE){e.H.get(o).innerHTML+=n;return}e.H.get(o).innerHTML=n}}}),this.importedModules=Object.entries(this.importObject)}return H.prototype.loadStream=function(s){return __awaiter(this,void 0,Promise,function(){var i,b=this;return __generator(this,function(e){switch(e.label){case 0:return i=WebAssembly.instantiateStreaming,i||(i=function(r,o){return __awaiter(b,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,r];case 1:return[4,n.sent().arrayBuffer()];case 2:return t=n.sent(),[4,WebAssembly.instantiate(t,o)];case 3:return[2,n.sent()]}})})}),[4,i(s,this.importObject)];case 1:return[2,e.sent()]}})})},Object.defineProperty(H.prototype,"runid",{get:function(){return this._runid},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"exited",{get:function(){return this._exited},enumerable:!1,configurable:!0}),H.prototype.resolveExitPromise=function(){this._exitResolveFn(this._exitcode)},H.prototype.call=function(s,i){this._wasm.call(s,i)},H.prototype.run=function(s){var i,b,e,r;return __awaiter(this,void 0,Promise,function(){var t,o,t,n=this;return __generator(this,function(a){switch(a.label){case 0:if(!this._exited)throw new Error("Concurrent run() is not supported, create multiple Applications instead.");for(this._runid++,this._exited=!1,this._exitPromise=new Promise(function(u){n._exitResolveFn=u}),this._wasm={inst:s,run:s.exports.resume,call:s.exports.run,getsp:s.exports.getsp},this.resetMemoryDataView(),t=0;t<this.importedModules.length;t++)(b=(i=this.importedModules[t][1])===null||i===void 0?void 0:i._onstart)===null||b===void 0||b.call(i);return this._wasm.run(),this._exited&&this.resolveExitPromise(),[4,this._exitPromise];case 1:for(o=a.sent(),this.H.reset(),t=0;t<this.importedModules.length;t++)(r=(e=this.importedModules[t][1])===null||e===void 0?void 0:e._onexit)===null||r===void 0||r.call(e,o);return[2,o]}})})},H.prototype.resetMemoryDataView=function(){this.view=new DataView(this._wasm.inst.exports.mem.buffer)},H.prototype.UTF8Sizeof=function(s){for(var i,b,e,r,o=0;s.length>0;){var t=this.UTF8enc.encodeInto(s,this.buf_utf8size);if(((i=t.read)!==null&&i!==void 0?i:0)===0||((b=t.written)!==null&&b!==void 0?b:0)===0)break;o+=(e=t.written)!==null&&e!==void 0?e:0,s=s.substring((r=t.read)!==null&&r!==void 0?r:0)}return o},H}();x.Application=k});
