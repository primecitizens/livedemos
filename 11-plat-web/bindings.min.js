// SPDX-License-Identifier: Apache-2.0
// Copyright 2023 The Prime Citizens

var __awaiter=this&&this.__awaiter||function(T,E,b,R){function p(g){return g instanceof b?g:new b(function(x){x(g)})}return new(b||(b=Promise))(function(g,x){function U(_){try{m(R.next(_))}catch(B){x(B)}}function F(_){try{m(R.throw(_))}catch(B){x(B)}}function m(_){_.done?g(_.value):p(_.value).then(U,F)}m((R=R.apply(T,E||[])).next())})},__generator=this&&this.__generator||function(T,E){var b={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},R,p,g,x;return x={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function U(m){return function(_){return F([m,_])}}function F(m){if(R)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(b=0)),b;)try{if(R=1,p&&(g=m[0]&2?p.return:m[0]?p.throw||((g=p.return)&&g.call(p),0):p.next)&&!(g=g.call(p,m[1])).done)return g;switch(p=0,g&&(m=[m[0]&2,g.value]),m[0]){case 0:case 1:g=m;break;case 4:return b.label++,{value:m[1],done:!1};case 5:b.label++,p=m[1],m=[0];continue;case 7:m=b.ops.pop(),b.trys.pop();continue;default:if(g=b.trys,!(g=g.length>0&&g[g.length-1])&&(m[0]===6||m[0]===2)){b=0;continue}if(m[0]===3&&(!g||m[1]>g[0]&&m[1]<g[3])){b.label=m[1];break}if(m[0]===6&&b.label<g[1]){b.label=g[1],g=m;break}if(g&&b.label<g[2]){b.label=g[2],b.ops.push(m);break}g[2]&&b.ops.pop(),b.trys.pop();continue}m=E.call(T,b)}catch(_){m=[6,_],p=0}finally{R=g=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};(function(T){if(typeof module=="object"&&typeof module.exports=="object"){var E=T(require,exports);E!==void 0&&(module.exports=E)}else typeof define=="function"&&define.amd?define("bindings",["require","exports"],T):T(void 0,globalThis.bindings={})})(function(T,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Application=E.Heap=void 0;var b=0,R=1,p=2,g=3,x=4,U=5,F=6,m=7,_=8,B=_,z=128,S=z+(B+1),y=function(){function v(){this.UNDEFINED=b,this.NULL=R,this.ZERO=p,this.FALSE=g,this.TRUE=x,this.NaN=U,this.INF=F,this.NEG_INF=m,this.GLOBAL=_,this.H=new Array(S),this.H[b]=void 0,this.H[R]=null,this.H[p]=0,this.H[g]=!1,this.H[x]=!0,this.H[U]=NaN,this.H[F]=1/0,this.H[m]=-1/0,this.H[_]=globalThis;for(var s=0;s<z;s++)this.H[B+1+s]=s+1;this.next=this.H.length,this.ttl=new Map}return v.prototype.get=function(s){if(!this.ttl.has(s))return this.H[s];var u=this.ttl.get(s)-1;return u<=0?this.take(s):(this.ttl.set(s,u),this.H[s])},v.prototype.freeAfterNGets=function(s,u){if(!(s<S)){if(this.ttl.has(s))throw new Error("invalid heap operation");if(u<=0){this.free(s);return}this.ttl.set(s,u)}},v.prototype.free=function(s){s<S||(this.ttl.delete(s),this.H[s]=this.next,this.next=s)},v.prototype.take=function(s){var u=this.H[s];return this.free(s),u},v.prototype.replace=function(s,u){return s<S?g:(this.H[s]=u,x)},v.prototype.push=function(s){if(s===void 0)return b;if(s===null)return R;switch(typeof s){case"boolean":return s?x:g;case"number":if(Number.isInteger(s)&&s>=0&&s<z)return s+B+1;if(Number.isNaN(s))return U;if(!Number.isFinite(s))return s>0?F:m;break}this.next===this.H.length&&this.H.push(this.H.length+1);var u=this.next;if(this.next=this.H[u],typeof this.next!="number")throw new Error("corrupt heap");return this.H[u]=s,u},v.prototype.reset=function(){this.H.splice(S),this.ttl.clear(),this.next=this.H.length},v}();E.Heap=y;var O=function(){function v(s){var u=this;if(this._runid=0,this._exited=!0,this.buf_utf8size=new Uint8Array(32),this.load={Raw:function(t,n){return new Uint8Array(u.view.buffer).subarray(t,t+n)},Bool:function(t){return u.view.getUint8(t>>>0)!==0},Uint8:function(t){return u.view.getUint8(t>>>0)},Uint16:function(t){return u.view.getUint16(t>>>0,!0)},Uint32:function(t){return u.view.getUint32(t>>>0,!0)},Uint64:function(t){return Number(u.view.getBigUint64(t>>>0,!0))},BigUint64:function(t){return u.view.getBigUint64(t>>>0,!0)},Int8:function(t){return u.view.getInt8(t>>>0)},Int16:function(t){return u.view.getInt16(t>>>0,!0)},Int32:function(t){return u.view.getInt32(t>>>0,!0)},Int64:function(t){return Number(u.view.getBigInt64(t>>>0,!0))},BigInt64:function(t){return u.view.getBigInt64(t>>>0,!0)},Float32:function(t){return u.view.getFloat32(t>>>0,!0)},Float64:function(t){return u.view.getFloat64(t>>>0,!0)},String:function(t,n){return t>>>=0,u.UTF8dec.decode(u.view.buffer.slice(t,t+n))},Ref:function(t,n,a){var e=u.view.getUint32(t>>>0,!0);return e===b?n:a?u.H.take(e):u.H.get(e)},Enum:function(t,n){var a=u.view.getUint32(t>>>0,!0);if(!(a<=0||a>n.length))return n[a-1]},Refs:function(t,n,a){if(n===0)return[];t>>>=0;var e=new Array(n);if(a)for(var r=0;r<n;r++)e[r]=u.H.take(u.view.getUint32(t+r*4,!0));else for(var r=0;r<n;r++)e[r]=u.H.get(u.view.getUint32(t+r*4,!0));return e}},this.store={Raw:function(t,n){t>>>=0,new Uint8Array(u.view.buffer).subarray(t,t+n.length).set(n)},String:function(t,n,a){var e,r,o,i,l,c;t>>>=0;var f=0;do{var d=u.UTF8enc.encodeInto(a,new Uint8Array(u.view.buffer).subarray(t,t+n));if(((e=d.read)!==null&&e!==void 0?e:0)===0||((r=d.written)!==null&&r!==void 0?r:0)===0)break;a=a.substring((o=d.read)!==null&&o!==void 0?o:0),f+=(i=d.written)!==null&&i!==void 0?i:0,t+=(l=d.written)!==null&&l!==void 0?l:0,n-=(c=d.written)!==null&&c!==void 0?c:0}while(a.length>0&&n>0);return{n:f,remainder:a}},Bool:function(t,n){u.view.setUint8(t>>>0,n?1:0)},Uint8:function(t,n){u.view.setUint8(t>>>0,n)},Uint16:function(t,n){u.view.setUint16(t>>>0,n,!0)},Uint32:function(t,n){u.view.setUint32(t>>>0,n,!0)},Uint64:function(t,n){typeof n!="bigint"&&(n=BigInt(n)),u.view.setBigUint64(t>>>0,n,!0)},Int8:function(t,n){u.view.setInt8(t>>>0,n)},Int16:function(t,n){u.view.setInt16(t>>>0,n,!0)},Int32:function(t,n){u.view.setInt32(t>>>0,n,!0)},Int64:function(t,n){typeof n!="bigint"&&(n=BigInt(n)),u.view.setBigInt64(t>>>0,n,!0)},Float32:function(t,n){u.view.setFloat32(t>>>0,n,!0)},Float64:function(t,n){u.view.setFloat64(t>>>0,n,!0)},Ref:function(t,n){u.view.setUint32(t>>>0,u.H.push(n),!0)},Enum:function(t,n){n<0?u.view.setUint32(t>>>0,0,!0):u.view.setUint32(t>>>0,n+1,!0)}},this.importObject={"ffi/js.core":{exit:function(t){u._exitcode=t,u._exited=!0}}},s!=null&&s.utf8enc)this.UTF8enc=s.utf8enc;else{if(!globalThis.TextEncoder)throw new Error("TextEncoder not available, please construct with custom UTF8Encoder");this.UTF8enc=new globalThis.TextEncoder}if(s!=null&&s.utf8dec)this.UTF8dec=s.utf8dec;else{if(!globalThis.TextDecoder)throw new Error("TextDecoder not available, please construct with custom UTF8Decoder");this.UTF8dec=new globalThis.TextDecoder("utf-8")}this.H=new y;var h=function(t,n){if(u.importObject[t])throw new Error("duplicate module name ".concat(t));u.importObject[t]=n(u)};h("core/assert",function(t){var n=[];return{append:function(a,e){n.push(t.load.String(a,e))},throw:function(){var a=n.join("");throw n.splice(0),new Error(a)}}}),h("ffi/js",function(t){return{once:function(n){t.H.freeAfterNGets(n,1)},free:function(n){t.H.take(n)},batchFree:function(n,a){for(var e=0;e<a;e++)t.H.free(t.load.Uint32(n+e*4))},replace:function(n,a){return t.H.replace(n,t.H.take(a))},getnum:function(n,a){var e=t.H.get(n);return typeof e!="number"?t.H.FALSE:(t.store.Float64(a,e),t.H.TRUE)},encodeUTF8:function(n,a,e){return t.store.String(a,e,t.H.get(n)).n},decodeUTF8:function(n,a){return t.H.push(t.load.String(n,a))},callVoid:function(n,a,e,r,o){Reflect.apply(t.H.get(n),t.H.get(a),t.load.Refs(r,o,e===t.H.TRUE))},prop:function(n,a,e){var r=t.H.get(n);return t.H.push(Reflect.get(r,t.load.String(a,e),r))}}}),h("ffi/js/array",function(t){var n=function(e,r,o,i,l,c){var f=t.H.get(o);if(f.length<=i)return 0;var d=f.length-i;d<c&&(c=d);for(var H=i;H<c;H++)f[H]=e(l+H*r);return c},a=function(e,r,o,i,l,c){var f=t.H.get(o);if(f.length<=i)return 0;var d=f.length-i;d<c&&(c=d);for(var H=i;H<c;H++)e(l+H*r,f[H]);return c};return{new:function(e,r,o,i){switch(r){case 0:return t.H.push(new Array(e));case 1:return o===t.H.TRUE?t.H.push(new Int8Array(e)):t.H.push(new Uint8Array(e));case 2:return o===t.H.TRUE?t.H.push(new Int16Array(e)):t.H.push(new Uint16Array(e));case 4:return i===t.H.TRUE?t.H.push(new Float32Array(e)):o===t.H.TRUE?t.H.push(new Int32Array(e)):t.H.push(new Uint32Array(e));case 8:return i===t.H.TRUE?t.H.push(new Float64Array(e)):o===t.H.TRUE?t.H.push(new BigInt64Array(e)):t.H.push(new BigUint64Array(e));default:throw new Error("unsupported element size=".concat(r))}},append:function(e,r,o,i,l,c,f,d){switch(o){case 0:{for(var H=t.load.Refs(f,d,r===t.H.TRUE),w=t.H.get(e),P=0,G=c;G<w.length&&P<H.length;G++)w[G]=H[P],P++;return t.H.replace(e,w.concat(H.slice(P))),d}case 1:{var w=t.H.get(e);if(w.length<=c)return 0;var k=w.length-c;return k<d&&(d=k),w.set(t.load.Raw(f,d),c),d}case 2:return i===t.H.TRUE?n(t.load.Int16,2,e,c,f,d):n(t.load.Uint16,2,e,c,f,d);case 4:return l===t.H.TRUE?n(t.load.Float32,4,e,c,f,d):i===t.H.TRUE?n(t.load.Int32,4,e,c,f,d):n(t.load.Uint32,4,e,c,f,d);case 8:return l===t.H.TRUE?n(t.load.Float64,8,e,c,f,d):i===t.H.TRUE?n(t.load.Int64,8,e,c,f,d):n(t.load.Uint64,8,e,c,f,d);default:throw new Error("unsupported element size=".concat(o))}},copy:function(e,r,o,i,l,c,f){switch(r){case 1:var d=t.H.get(e);if(d.length<=l)return 0;var H=d.length-l;return H<f&&(f=H),t.load.Raw(c,f).set(d,l),f;case 2:return o===t.H.TRUE?a(t.store.Int16,2,e,l,c,f):a(t.store.Uint16,2,e,l,c,f);case 4:return i===t.H.TRUE?a(t.store.Float32,4,e,l,c,f):o===t.H.TRUE?a(t.store.Int32,4,e,l,c,f):a(t.store.Uint32,4,e,l,c,f);case 8:return i===t.H.TRUE?a(t.store.Float64,8,e,l,c,f):o===t.H.TRUE?a(t.store.Int64,8,e,l,c,f):a(t.store.Uint64,8,e,l,c,f);default:throw new Error("unsupported element size=".concat(r))}},set:function(e,r){t.H.get(e).set(t.H.get(r))},buffer:function(e,r){return t.H.push((e===t.H.TRUE?t.H.take(r):t.H.get(r)).buffer)},fromBuffer:function(e,r,o,i,l){var c=e===t.H.TRUE?t.H.take(r):t.H.get(r);switch(o){case 1:return i===t.H.TRUE?t.H.push(new Int8Array(c)):t.H.push(new Uint8Array(c));case 2:return i===t.H.TRUE?t.H.push(new Int16Array(c)):t.H.push(new Uint16Array(c));case 4:return l===t.H.TRUE?t.H.push(new Float32Array(c)):i===t.H.TRUE?t.H.push(new Int32Array(c)):t.H.push(new Uint32Array(c));case 8:return l===t.H.TRUE?t.H.push(new Float64Array(c)):i===t.H.TRUE?t.H.push(new BigInt64Array(c)):t.H.push(new BigUint64Array(c));default:throw new Error("unsupported element size=".concat(o))}},byteOffset:function(e){return t.H.get(e).byteOffset},byteLength:function(e){return t.H.get(e).byteLength}}}),h("ffi/js/async",function(t){var n="_ext_";return{shouldwait:function(a,e,r,o){var i=a===t.H.TRUE?t.H.take(e):t.H.get(e);if(!i)return t.H.FALSE;var l=i[n];if(typeof l!="undefined"){if(l.ok)return t.store.Bool(r,!0),t.store.Ref(o,l.data),t.H.FALSE;if(l.err)return t.store.Ref(o,l.data),t.H.FALSE}if(l=l||{},l.synchronous=!0,i.then(function(c){return l.data=c,l.ok=!0,l.synchronous?l.synchronous=!1:t.call(0,0),c},function(c){return l.data=c,l.err=!0,l.synchronous?l.synchronous=!1:t.call(0,0),c}),l.synchronous)return t.store.Ref(o,l),l.synchronous=!1,t.H.TRUE;if(l.ok)return t.store.Bool(r,!0),t.store.Ref(o,l.data),t.H.FALSE;if(l.err)return t.store.Ref(o,l.data),t.H.FALSE;throw new Error("unreachable")},takewaited:function(a,e){var r=t.H.take(a);if(!r.ok&&!r.err)throw new Error("unexpected state: promise unfinished");return t.store.Ref(e,r.data),r.ok?t.H.TRUE:t.H.FALSE}}}),h("ffi/js/callback",function(t){var n="_CBRET_",a="_CBPROM_";return{func:function(e,r,o){e>>>=0,r>>>=0,o>>>=0;var i=t.runid;return t.H.push(function(){if(t.exited||i!=t.runid)throw new Error("unexpected function call after program exit: pc=".concat(o));if(arguments.length>15)throw new Error("too many args to callback function");var l=new Array(arguments.length+1);l[0]=t.H.push(this);for(var c=0;c<arguments.length;c++)l[c+1]=t.H.push(arguments[c]);var f={dispFnPC:e,dispRecv:r,targetPC:o,args:l,retRef:t.H.push(n),resolveFn:t.H.push(a)};t.H.replace(f.retRef,void 0);var d=!1,H=new Promise(function(w){t.H.replace(f.resolveFn,function(){d=!0,t.H.free(f.resolveFn),w(!0)})}).then(function(){return l.forEach(function(w){return t.H.free(w)}),t.exited&&t.resolveExitPromise(),t.H.take(f.retRef)});return t.call(t.H.push(f),0),d?t.H.get(f.retRef):H})},ctx:function(e,r){var o=t.H.take(e);if(r>>>=0,t.store.Uint32(r+0,o.dispFnPC),t.store.Uint32(r+4,o.dispRecv),t.store.Uint32(r+8,o.targetPC),t.store.Uint32(r+12,o.retRef),t.store.Uint32(r+16,o.resolveFn),!o.args||o.args.length===0){t.store.Uint32(r+20,0);return}t.store.Uint32(r+20,o.args.length),r+=24;for(var i=0;i<o.args.length;i++)t.store.Uint32(r+i*4,o.args[i])}}}),h("plat/js/web",function(t){return{call_EventTarget_AddEventListener:function(n,a,e,r,o){var i=t.H.get(n),l=i.addEventListener(t.H.get(e),t.H.get(r),t.H.get(o))},call_EventTarget_AddEventListener1:function(n,a,e,r){var o=t.H.get(n),i=o.addEventListener(t.H.get(e),t.H.get(r))},call_EventTarget_RemoveEventListener1:function(n,a,e,r){var o=t.H.get(n),i=o.removeEventListener(t.H.get(e),t.H.get(r))},get_Event_Target:function(n,a){var e=t.H.get(n);if(e&&"target"in e){var r=e.target;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},get_Element_Id:function(n,a){var e=t.H.get(n);if(e&&"id"in e){var r=e.id;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},set_Element_InnerHTML:function(n,a){var e=t.H.get(n);return Reflect.set(e,"innerHTML",t.H.get(a),e)?t.H.TRUE:t.H.FALSE},call_Blob_ArrayBuffer:function(n,a){var e=t.H.get(n),r=e.arrayBuffer();t.store.Ref(a,r)},set_HTMLElement_InnerText:function(n,a){var e=t.H.get(n);return Reflect.set(e,"innerText",t.H.get(a),e)?t.H.TRUE:t.H.FALSE},call_Document_CreateElement1:function(n,a,e){var r=t.H.get(n),o=r.createElement(t.H.get(e));t.store.Ref(a,o)},call_Document_GetElementById:function(n,a,e){var r=t.H.get(n),o=r.getElementById(t.H.get(e));t.store.Ref(a,o)},get_Document_Body:function(n,a){var e=t.H.get(n);if(e&&"body"in e){var r=e.body;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},get_Document_Head:function(n,a){var e=t.H.get(n);if(e&&"head"in e){var r=e.head;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},call_Node_AppendChild:function(n,a,e){var r=t.H.get(n),o=r.appendChild(t.H.get(e));t.store.Ref(a,o)},call_Response_Blob:function(n,a){var e=t.H.get(n),r=e.blob();t.store.Ref(a,r)},call_GPUBuffer_GetMappedRange2:function(n,a){var e=t.H.get(n),r=e.getMappedRange();t.store.Ref(a,r)},call_GPUBuffer_Unmap:function(n,a){var e=t.H.get(n),r=e.unmap()},call_GPUTexture_CreateView1:function(n,a){var e=t.H.get(n),r=e.createView();t.store.Ref(a,r)},load_GPUExtent3DDict:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.width=t.load.Uint32(n+0),t.load.Bool(n+12)?r.height=t.load.Uint32(n+4):delete r.height,t.load.Bool(n+13)?r.depthOrArrayLayers=t.load.Uint32(n+8):delete r.depthOrArrayLayers,a===t.H.TRUE?t.H.push(r):e},load_GPUBufferBinding:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.buffer=t.load.Ref(n+0,void 0),t.load.Bool(n+24)?r.offset=t.load.Uint64(n+8):delete r.offset,t.load.Bool(n+25)?r.size=t.load.Uint64(n+16):delete r.size,a===t.H.TRUE?t.H.push(r):e},load_GPUBindGroupEntry:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.binding=t.load.Uint32(n+0),r.resource=t.load.Ref(n+4,void 0),a===t.H.TRUE?t.H.push(r):e},call_GPURenderPipeline_GetBindGroupLayout:function(n,a,e){var r=t.H.get(n),o=r.getBindGroupLayout(e);t.store.Ref(a,o)},load_GPUVertexAttribute:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.format=t.load.Enum(n+0,["uint8x2","uint8x4","sint8x2","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","uint16x4","sint16x2","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4"]),r.offset=t.load.Uint64(n+8),r.shaderLocation=t.load.Uint32(n+16),a===t.H.TRUE?t.H.push(r):e},load_GPUVertexBufferLayout:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.arrayStride=t.load.Uint64(n+0),r.stepMode=t.load.Enum(n+8,["vertex","instance"]),r.attributes=t.load.Ref(n+12,void 0),a===t.H.TRUE?t.H.push(r):e},load_GPUColorTargetState:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.format=t.load.Enum(n+0,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),t.load.Bool(n+4+29)?(r.blend={},t.load.Bool(n+4+0+12)?(r.blend.color={},r.blend.color.operation=t.load.Enum(n+4+0+0,["add","subtract","reverse-subtract","min","max"]),r.blend.color.srcFactor=t.load.Enum(n+4+0+4,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"]),r.blend.color.dstFactor=t.load.Enum(n+4+0+8,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"])):delete r.blend.color,t.load.Bool(n+4+16+12)?(r.blend.alpha={},r.blend.alpha.operation=t.load.Enum(n+4+16+0,["add","subtract","reverse-subtract","min","max"]),r.blend.alpha.srcFactor=t.load.Enum(n+4+16+4,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"]),r.blend.alpha.dstFactor=t.load.Enum(n+4+16+8,["zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant"])):delete r.blend.alpha):delete r.blend,t.load.Bool(n+40)?r.writeMask=t.load.Uint32(n+36):delete r.writeMask,a===t.H.TRUE?t.H.push(r):e},load_GPUColorDict:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.r=t.load.Float64(n+0),r.g=t.load.Float64(n+8),r.b=t.load.Float64(n+16),r.a=t.load.Float64(n+24),a===t.H.TRUE?t.H.push(r):e},call_GPURenderPassEncoder_End:function(n,a){var e=t.H.get(n),r=e.end()},call_GPURenderPassEncoder_SetPipeline:function(n,a,e){var r=t.H.get(n),o=r.setPipeline(t.H.get(e))},call_GPURenderPassEncoder_SetVertexBuffer2:function(n,a,e,r){var o=t.H.get(n),i=o.setVertexBuffer(e,t.H.get(r))},call_GPURenderPassEncoder_Draw3:function(n,a,e){var r=t.H.get(n),o=r.draw(e)},call_GPURenderPassEncoder_SetBindGroup1:function(n,a,e,r){var o=t.H.get(n),i=o.setBindGroup(e,t.H.get(r))},load_GPURenderPassColorAttachment:function(n,a,e){var r=a===t.H.TRUE?{}:t.H.get(e);return r.view=t.load.Ref(n+0,void 0),r.resolveTarget=t.load.Ref(n+4,void 0),r.clearValue=t.load.Ref(n+8,void 0),r.loadOp=t.load.Enum(n+12,["load","clear"]),r.storeOp=t.load.Enum(n+16,["store","discard"]),a===t.H.TRUE?t.H.push(r):e},call_GPUCommandEncoder_BeginRenderPass:function(n,a,e){var r=t.H.get(n),o={};o.colorAttachments=t.load.Ref(e+0,void 0),t.load.Bool(e+4+37)&&(o.depthStencilAttachment={},o.depthStencilAttachment.view=t.load.Ref(e+4+0,void 0),t.load.Bool(e+4+33)&&(o.depthStencilAttachment.depthClearValue=t.load.Float32(e+4+4)),o.depthStencilAttachment.depthLoadOp=t.load.Enum(e+4+8,["load","clear"]),o.depthStencilAttachment.depthStoreOp=t.load.Enum(e+4+12,["store","discard"]),t.load.Bool(e+4+34)&&(o.depthStencilAttachment.depthReadOnly=t.load.Bool(e+4+16)),t.load.Bool(e+4+35)&&(o.depthStencilAttachment.stencilClearValue=t.load.Uint32(e+4+20)),o.depthStencilAttachment.stencilLoadOp=t.load.Enum(e+4+24,["load","clear"]),o.depthStencilAttachment.stencilStoreOp=t.load.Enum(e+4+28,["store","discard"]),t.load.Bool(e+4+36)&&(o.depthStencilAttachment.stencilReadOnly=t.load.Bool(e+4+32))),o.occlusionQuerySet=t.load.Ref(e+44,void 0),t.load.Bool(e+48+14)&&(o.timestampWrites={},o.timestampWrites.querySet=t.load.Ref(e+48+0,void 0),t.load.Bool(e+48+12)&&(o.timestampWrites.beginningOfPassWriteIndex=t.load.Uint32(e+48+4)),t.load.Bool(e+48+13)&&(o.timestampWrites.endOfPassWriteIndex=t.load.Uint32(e+48+8))),t.load.Bool(e+76)&&(o.maxDrawCount=t.load.Uint64(e+64)),o.label=t.load.Ref(e+72,"");var i=r.beginRenderPass(o);t.store.Ref(a,i)},call_GPUCommandEncoder_Finish1:function(n,a){var e=t.H.get(n),r=e.finish();t.store.Ref(a,r)},call_GPUQueue_Submit:function(n,a,e){var r=t.H.get(n),o=r.submit(t.H.get(e))},call_GPUQueue_WriteBuffer:function(n,a,e,r,o,i,l){var c=t.H.get(n),f=c.writeBuffer(t.H.get(e),r,t.H.get(o),i,l)},call_GPUDevice_CreateBuffer:function(n,a,e){var r=t.H.get(n),o={};o.size=t.load.Uint64(e+0),o.usage=t.load.Uint32(e+8),t.load.Bool(e+20)&&(o.mappedAtCreation=t.load.Bool(e+12)),o.label=t.load.Ref(e+16,"");var i=r.createBuffer(o);t.store.Ref(a,i)},call_GPUDevice_CreateTexture:function(n,a,e){var r=t.H.get(n),o={};o.size=t.load.Ref(e+0,void 0),t.load.Bool(e+32)&&(o.mipLevelCount=t.load.Uint32(e+4)),t.load.Bool(e+33)&&(o.sampleCount=t.load.Uint32(e+8)),o.dimension=t.load.Enum(e+12,["1d","2d","3d"]),o.format=t.load.Enum(e+16,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),o.usage=t.load.Uint32(e+20),o.viewFormats=t.load.Ref(e+24,[]),o.label=t.load.Ref(e+28,"");var i=r.createTexture(o);t.store.Ref(a,i)},call_GPUDevice_CreateBindGroup:function(n,a,e){var r=t.H.get(n),o={};o.layout=t.load.Ref(e+0,void 0),o.entries=t.load.Ref(e+4,void 0),o.label=t.load.Ref(e+8,"");var i=r.createBindGroup(o);t.store.Ref(a,i)},call_GPUDevice_CreateShaderModule:function(n,a,e){var r=t.H.get(n),o={};o.code=t.load.Ref(e+0,void 0),o.sourceMap=t.load.Ref(e+4,void 0),o.hints=t.load.Ref(e+8,void 0),o.label=t.load.Ref(e+12,"");var i=r.createShaderModule(o);t.store.Ref(a,i)},call_GPUDevice_CreateRenderPipeline:function(n,a,e){var r=t.H.get(n),o={};t.load.Bool(e+0+16)&&(o.vertex={},o.vertex.buffers=t.load.Ref(e+0+0,[]),o.vertex.module=t.load.Ref(e+0+4,void 0),o.vertex.entryPoint=t.load.Ref(e+0+8,void 0),o.vertex.constants=t.load.Ref(e+0+12,void 0)),t.load.Bool(e+20+18)&&(o.primitive={},o.primitive.topology=t.load.Enum(e+20+0,["point-list","line-list","line-strip","triangle-list","triangle-strip"]),o.primitive.stripIndexFormat=t.load.Enum(e+20+4,["uint16","uint32"]),o.primitive.frontFace=t.load.Enum(e+20+8,["ccw","cw"]),o.primitive.cullMode=t.load.Enum(e+20+12,["none","front","back"]),t.load.Bool(e+20+17)&&(o.primitive.unclippedDepth=t.load.Bool(e+20+16))),t.load.Bool(e+40+77)&&(o.depthStencil={},o.depthStencil.format=t.load.Enum(e+40+0,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),o.depthStencil.depthWriteEnabled=t.load.Bool(e+40+4),o.depthStencil.depthCompare=t.load.Enum(e+40+8,["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]),t.load.Bool(e+40+12+16)&&(o.depthStencil.stencilFront={},o.depthStencil.stencilFront.compare=t.load.Enum(e+40+12+0,["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]),o.depthStencil.stencilFront.failOp=t.load.Enum(e+40+12+4,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),o.depthStencil.stencilFront.depthFailOp=t.load.Enum(e+40+12+8,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),o.depthStencil.stencilFront.passOp=t.load.Enum(e+40+12+12,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"])),t.load.Bool(e+40+32+16)&&(o.depthStencil.stencilBack={},o.depthStencil.stencilBack.compare=t.load.Enum(e+40+32+0,["never","less","equal","less-equal","greater","not-equal","greater-equal","always"]),o.depthStencil.stencilBack.failOp=t.load.Enum(e+40+32+4,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),o.depthStencil.stencilBack.depthFailOp=t.load.Enum(e+40+32+8,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"]),o.depthStencil.stencilBack.passOp=t.load.Enum(e+40+32+12,["keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"])),t.load.Bool(e+40+72)&&(o.depthStencil.stencilReadMask=t.load.Uint32(e+40+52)),t.load.Bool(e+40+73)&&(o.depthStencil.stencilWriteMask=t.load.Uint32(e+40+56)),t.load.Bool(e+40+74)&&(o.depthStencil.depthBias=t.load.Int32(e+40+60)),t.load.Bool(e+40+75)&&(o.depthStencil.depthBiasSlopeScale=t.load.Float32(e+40+64)),t.load.Bool(e+40+76)&&(o.depthStencil.depthBiasClamp=t.load.Float32(e+40+68))),t.load.Bool(e+120+12)&&(o.multisample={},t.load.Bool(e+120+9)&&(o.multisample.count=t.load.Uint32(e+120+0)),t.load.Bool(e+120+10)&&(o.multisample.mask=t.load.Uint32(e+120+4)),t.load.Bool(e+120+11)&&(o.multisample.alphaToCoverageEnabled=t.load.Bool(e+120+8))),t.load.Bool(e+136+16)&&(o.fragment={},o.fragment.targets=t.load.Ref(e+136+0,void 0),o.fragment.module=t.load.Ref(e+136+4,void 0),o.fragment.entryPoint=t.load.Ref(e+136+8,void 0),o.fragment.constants=t.load.Ref(e+136+12,void 0)),o.layout=t.load.Ref(e+156,void 0),o.label=t.load.Ref(e+160,"");var i=r.createRenderPipeline(o);t.store.Ref(a,i)},call_GPUDevice_CreateCommandEncoder1:function(n,a){var e=t.H.get(n),r=e.createCommandEncoder();t.store.Ref(a,r)},get_GPUDevice_Queue:function(n,a){var e=t.H.get(n);if(e&&"queue"in e){var r=e.queue;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},call_GPUCanvasContext_Configure:function(n,a,e){var r=t.H.get(n),o={};o.device=t.load.Ref(e+0,void 0),o.format=t.load.Enum(e+4,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]),t.load.Bool(e+24)&&(o.usage=t.load.Uint32(e+8)),o.viewFormats=t.load.Ref(e+12,[]),o.colorSpace=t.load.Enum(e+16,["srgb","display-p3"]),o.alphaMode=t.load.Enum(e+20,["opaque","premultiplied"]);var i=r.configure(o)},call_GPUCanvasContext_GetCurrentTexture:function(n,a){var e=t.H.get(n),r=e.getCurrentTexture();t.store.Ref(a,r)},call_HTMLCanvasElement_GetContext1:function(n,a,e){var r=t.H.get(n),o=r.getContext(t.H.get(e));t.store.Ref(a,o)},set_HTMLCanvasElement_Width:function(n,a){var e=t.H.get(n);return Reflect.set(e,"width",a,e)?t.H.TRUE:t.H.FALSE},set_HTMLCanvasElement_Height:function(n,a){var e=t.H.get(n);return Reflect.set(e,"height",a,e)?t.H.TRUE:t.H.FALSE},try_GPUAdapter_RequestDevice1:function(n,a,e){try{var r=t.H.get(n),o=r.requestDevice();return t.store.Ref(a,o),t.H.TRUE}catch(i){return t.store.Ref(e,i),t.H.FALSE}},try_GPU_RequestAdapter1:function(n,a,e){try{var r=t.H.get(n),o=r.requestAdapter();return t.store.Ref(a,o),t.H.TRUE}catch(i){return t.store.Ref(e,i),t.H.FALSE}},call_GPU_GetPreferredCanvasFormat:function(n,a){var e=t.H.get(n),r=e.getPreferredCanvasFormat();t.store.Enum(a,["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"].indexOf(r))},get_Navigator_Gpu:function(n,a){var e=t.H.get(n);if(e&&"gpu"in e){var r=e.gpu;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},call_Window_Fetch:function(n,a,e,r){var o=t.H.get(n),i={};i.method=t.load.Ref(r+0,void 0),i.headers=t.load.Ref(r+4,void 0),i.body=t.load.Ref(r+8,void 0),i.referrer=t.load.Ref(r+12,void 0),i.referrerPolicy=t.load.Enum(r+16,["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),i.mode=t.load.Enum(r+20,["navigate","same-origin","no-cors","cors"]),i.credentials=t.load.Enum(r+24,["omit","same-origin","include"]),i.cache=t.load.Enum(r+28,["default","no-store","reload","no-cache","force-cache","only-if-cached"]),i.redirect=t.load.Enum(r+32,["follow","error","manual"]),i.integrity=t.load.Ref(r+36,void 0),t.load.Bool(r+87)&&(i.keepalive=t.load.Bool(r+40)),i.signal=t.load.Ref(r+44,void 0),i.duplex=t.load.Enum(r+48,["half"]),i.priority=t.load.Enum(r+52,["high","low","auto"]),i.window=t.load.Ref(r+56,void 0),t.load.Bool(r+60+16)&&(i.privateToken={},i.privateToken.version=t.load.Enum(r+60+0,["1"]),i.privateToken.operation=t.load.Enum(r+60+4,["token-request","send-redemption-record","token-redemption"]),i.privateToken.refreshPolicy=t.load.Enum(r+60+8,["none","refresh"]),i.privateToken.issuers=t.load.Ref(r+60+12,void 0)),i.targetAddressSpace=t.load.Enum(r+80,["private","local"]),t.load.Bool(r+84+2)&&(i.attributionReporting={},i.attributionReporting.eventSourceEligible=t.load.Bool(r+84+0),i.attributionReporting.triggerEligible=t.load.Bool(r+84+1));var l=o.fetch(t.H.get(e),i);t.store.Ref(a,l)},call_Window_RequestAnimationFrame:function(n,a,e){var r=t.H.get(n),o=r.requestAnimationFrame(t.H.get(e));t.store.Uint32(a,o)},call_Window_CancelAnimationFrame:function(n,a,e){var r=t.H.get(n),o=r.cancelAnimationFrame(e)},get_Window_Document:function(n,a){var e=t.H.get(n);if(e&&"document"in e){var r=e.document;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},get_Window_Navigator:function(n,a){var e=t.H.get(n);if(e&&"navigator"in e){var r=e.navigator;return t.store.Ref(a,r),t.H.TRUE}return t.H.FALSE},get_Window_DevicePixelRatio:function(n,a){var e=t.H.get(n);if(e&&"devicePixelRatio"in e){var r=e.devicePixelRatio;return t.store.Float64(a,r),t.H.TRUE}return t.H.FALSE},get_MouseEvent_ClientX:function(n,a){var e=t.H.get(n);if(e&&"clientX"in e){var r=e.clientX;return t.store.Int32(a,r),t.H.TRUE}return t.H.FALSE},get_MouseEvent_ClientY:function(n,a){var e=t.H.get(n);if(e&&"clientY"in e){var r=e.clientY;return t.store.Int32(a,r),t.H.TRUE}return t.H.FALSE},call_Console_Log:function(n,a,e){var r,o=(r=globalThis.console).log.apply(r,t.load.Refs(a,e))}}}),h("stdprint",function(t){var n=new Array,a;return{print:function(e,r){var o=t.load.String(e,r),i=o.lastIndexOf("\n");if(i>=0){if(a&&(clearTimeout(a),a=void 0),console.log(n.splice(0,n.length).join("")+o.substring(0,i)),i===o.length-1)return;o=o.substring(i+1)}n.push(o),!a&&(a=setTimeout(function(){a=void 0,console.log(n.splice(0,n.length).join(""))},100))}}}),h("core/alloc/sbrkalloc",function(t){return{resetMemoryDataView:function(){t.resetMemoryDataView()}}}),h("time/sysclock",function(t){return{timeOriginMS:function(){return Date.now()-performance.now()},millitime:function(){return performance.now()}}}),h("ui/html/builder",function(t){var n=new Map;return{reset:function(a){if(n.has(a)){n.get(a).splice(0);return}n.set(a,[])},integer:function(a,e,r,o){n.get(a).push((e===t.H.TRUE?t.load.BigInt64(r):t.load.BigUint64(r)).toString(o))},float:function(a,e){n.get(a).push(e.toString(10))},buf_str:function(a,e,r){n.get(a).push(t.load.String(e,r))},flush:function(a,e){var r=n.get(a).splice(0).join("");if(e===t.H.TRUE){t.H.get(a).innerHTML+=r;return}t.H.get(a).innerHTML=r}}}),this.importedModules=Object.entries(this.importObject)}return v.prototype.init=function(s){return __awaiter(this,void 0,Promise,function(){var u,h=this;return __generator(this,function(t){switch(t.label){case 0:return u=WebAssembly.instantiateStreaming,u||(u=function(n,a){return __awaiter(h,void 0,void 0,function(){var e;return __generator(this,function(r){switch(r.label){case 0:return[4,n];case 1:return[4,r.sent().arrayBuffer()];case 2:return e=r.sent(),[4,WebAssembly.instantiate(e,a)];case 3:return[2,r.sent()]}})})}),[4,u(s,this.importObject)];case 1:return[2,t.sent()]}})})},v.prototype.initSync=function(s){if(typeof s=="string"){s.startsWith("data:")&&(s=s.substring(s.indexOf(","))),s=atob(s);for(var u=new Uint8Array(s.length),h=0;h<u.length;h++)u[h]=s.charCodeAt(h);s=u.buffer}var t=new WebAssembly.Module(s);return{instance:new WebAssembly.Instance(t,this.importObject),module:t}},Object.defineProperty(v.prototype,"runid",{get:function(){return this._runid},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"exited",{get:function(){return this._exited},enumerable:!1,configurable:!0}),v.prototype.resolveExitPromise=function(){this._exitResolveFn(this._exitcode)},v.prototype.call=function(s,u){this._wasm.call(s,u)},v.prototype.run=function(s){var u=this,h,t;if(!this._exited)throw new Error("Concurrent run() is not supported, create multiple Applications instead.");this._runid++,this._exited=!1,this._exitPromise=new Promise(function(a){u._exitResolveFn=a}).then(function(a){var e,r;u.H.reset();for(var o=0;o<u.importedModules.length;o++)(r=(e=u.importedModules[o][1])===null||e===void 0?void 0:e._onexit)===null||r===void 0||r.call(e,a);return a}),this._wasm={inst:s,run:s.exports.resume,call:s.exports.run,getsp:s.exports.getsp},this.resetMemoryDataView();for(var n=0;n<this.importedModules.length;n++)(t=(h=this.importedModules[n][1])===null||h===void 0?void 0:h._onstart)===null||t===void 0||t.call(h);return this._wasm.run(),this._exited&&this.resolveExitPromise(),this._exitPromise},v.prototype.resetMemoryDataView=function(){this.view=new DataView(this._wasm.inst.exports.mem.buffer)},v.prototype.UTF8Sizeof=function(s){for(var u,h,t,n,a=0;s.length>0;){var e=this.UTF8enc.encodeInto(s,this.buf_utf8size);if(((u=e.read)!==null&&u!==void 0?u:0)===0||((h=e.written)!==null&&h!==void 0?h:0)===0)break;a+=(t=e.written)!==null&&t!==void 0?t:0,s=s.substring((n=e.read)!==null&&n!==void 0?n:0)}return a},v}();E.Application=O});
